
<!DOCTYPE html>
<html>
  <head>
    <title>Advanced Relay Control</title>
    <style>
     body {
  background: linear-gradient(135deg, #ff6f61, #f39c12, #1e3c72);
  font-family: 'Poppins', sans-serif;
  color: #ecf0f1;
  height: 100vh;
  margin: 20px; 
}


body::before {
  content: '';
  background: radial-gradient(circle, rgba(255, 255, 255, 0.1), rgba(0, 0, 0, 0));
  animation: pulseEffect 20s infinite;
  transform: rotate(0deg);
  pointer-events: none;
}

body::after {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.05), rgba(0, 0, 0, 0.2));
  mix-blend-mode: overlay;
  pointer-events: none;
}

    
.container {
  margin: 0 auto;
  padding: 20px;
  max-width: 800px;
  background: linear-gradient(145deg, #1c2b44, #374a6c);
  box-shadow: 10px 10px 25px rgba(0, 0, 0, 0.3), -10px -10px 20px rgba(255, 255, 255, 0.1);
  border-radius: 20px;
  color: #fff;
  font-family: 'Arial', sans-serif;
  text-align: center;
  transition: all 0.4s ease-in-out;
}




h1 {
  align-items: center; /* উলম্বভাবে সেন্টার */
  background: linear-gradient(145deg, #34495e, #2c3e50); /* ডার্ক গ্রেডিয়েন্ট */
  border-radius: 20px; /* গোলাকার কোণা */
  padding: 20px; /* ভেতরের ফাঁকা */
  margin: 20px auto; /* সেন্টারে পজিশন */
  box-shadow: 
    10px 10px 20px rgba(0, 0, 0, 0.4), 
    -10px -10px 20px rgba(255, 255, 255, 0.1); /* নেয়ুমরফিক শ্যাডো */
  transform: perspective(1000px) rotateX(10deg); /* ৩ডি ইফেক্ট */
  animation: float 3s ease-in-out infinite; /* ফ্লোটিং অ্যানিমেশন */

    font-size: 3rem;
    text-align: center;
    text-shadow: 0 5px 15px rgba(0, 0, 0, 0.4), 0 0 20px rgba(255, 255, 255, 0.5);
    color: #f1c40f;
     background: linear-gradient(145deg, #34495e, #2c3e50); /* ডার্ক গ্রেডিয়েন্ট */
    animation: glowText 2.5s infinite;

}


    
      .relay {
  margin-top: 3%;
  background: linear-gradient(145deg, #1e2a47, #3a4a6d);
  box-shadow: 10px 10px 25px rgba(0, 0, 0, 0.3), -10px -10px 20px rgba(255, 255, 255, 0.1);
  border-radius: 15px;
  padding: 10px;
  text-align: center;
  width: 95%;
  transition: all 0.4s ease-in-out;
}



.relay-header {
  font-size: 2.2em; /* বড় এবং স্পষ্ট ফন্ট সাইজ */
  font-weight: 700; /* গাঢ় টেক্সট */
  margin-bottom: 20px;
  text-transform: uppercase;
  color: #f39c12; /* উজ্জ্বল রঙ */
  background: linear-gradient(145deg, #f1c40f, #e67e22); /* গ্র্যাডিয়েন্ট প্রভাব */
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent; /* শুধুমাত্র গ্র্যাডিয়েন্ট প্রভাব প্রদর্শন */
  text-shadow: 4px 4px 6px rgba(0, 0, 0, 0.5), -4px -4px 6px rgba(255, 255, 255, 0.1); /* উন্নত থ্রিডি লুক */
  position: relative;
  letter-spacing: 2px; /* ফাঁকা স্পেস যোগ করা হয়েছে */
  transition: transform 0.3s ease-in-out, text-shadow 0.3s ease-in-out; /* স্মুথ অ্যানিমেশন */
}

.relay-header:hover {
  transform: scale(1.1); /* হালকা বড় হওয়া */
  text-shadow: 6px 6px 10px rgba(0, 0, 0, 0.7), -6px -6px 10px rgba(255, 255, 255, 0.2); /* আরও গভীর হোভার প্রভাব */
}

    
      .relay button {
        padding: 26px;
        font-size: 2.7rem;
        font-weight: bold;
        color: #fff;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease-in-out;
        box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.3), -3px -3px 8px rgba(255, 255, 255, 0.1);
        background: linear-gradient(145deg, #4e9f3d, #34a852);
        width: 26%;
        text-transform: uppercase;
        font-weight: 500;
        margin: 1%;
      }
    
      .relay button:hover {
        transform: translateY(-5px) scale(1.1);
        box-shadow: 15px 15px 25px rgba(0, 0, 0, 0.5), -15px -15px 25px rgba(255, 255, 255, 0.2);
      }
    
      .relay button:active {
        transform: scale(0.95);
        box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.3), -5px -5px 10px rgba(255, 255, 255, 0.1);
      }
    
       .relay button.on {
        background: linear-gradient(145deg, #28a745, #34c759);
  box-shadow: inset 4px 4px 12px rgba(0, 0, 0, 0.3), inset -4px -4px 12px rgba(255, 255, 255, 0.2);
}

    
      .relay button.off {
       background: linear-gradient(145deg, #dc3545, #e83e4d);
  box-shadow: inset 4px 4px 12px rgba(0, 0, 0, 0.3), inset -4px -4px 12px rgba(255, 255, 255, 0.2);
}

 
      .relay button.set {
        background: linear-gradient(145deg, #8e44ad, #9b59b6);
 box-shadow: inset 4px 4px 12px rgba(0, 0, 0, 0.3), inset -4px -4px 12px rgba(255, 255, 255, 0.2);
      }
    
      .relay button.alarm-set {
        background: linear-gradient(145deg, #f39c12, #f1c40f);
 box-shadow: inset 4px 4px 12px rgba(0, 0, 0, 0.3), inset -4px -4px 12px rgba(255, 255, 255, 0.2);
      }
    .relay button.alarm-off {
        background: linear-gradient(145deg, #f39c12, #f1c40f);
 box-shadow: inset 4px 4px 12px rgba(0, 0, 0, 0.3), inset -4px -4px 12px rgba(255, 255, 255, 0.2);
      }
.relay button.alarm-on {
    background: linear-gradient(145deg, #9b59b6, #8e44ad); /* বেগুনি গ্রেডিয়েন্ট */
    box-shadow: inset 4px 4px 12px rgba(0, 0, 0, 0.3), inset -4px -4px 12px rgba(255, 255, 255, 0.2);
}

      .relay button.timer-set {
        background: linear-gradient(145deg, #e67e22, #d35400);
      box-shadow: inset 4px 4px 12px rgba(0, 0, 0, 0.3), inset -4px -4px 12px rgba(255, 255, 255, 0.2);
      }
    .relay button.timer-off {
        background: linear-gradient(145deg, #e67e22, #d35400);
      box-shadow: inset 4px 4px 12px rgba(0, 0, 0, 0.3), inset -4px -4px 12px rgba(255, 255, 255, 0.2);
      }
.relay button.timer-on {
    background: linear-gradient(145deg, #1abc9c, #16a085); /* উজ্জ্বল এবং শান্ত গ্রেডিয়েন্ট */
    box-shadow: inset 4px 4px 12px rgba(0, 0, 0, 0.3), inset -4px -4px 12px rgba(255, 255, 255, 0.2);
}

      #clock-container {
  display: flex; /* ক্লকটি সেন্টারে রাখার জন্য */
  justify-content: center; /* অনুভূমিকভাবে সেন্টার */
  align-items: center; /* উলম্বভাবে সেন্টার */
  background: linear-gradient(145deg, #34495e, #2c3e50); /* ডার্ক গ্রেডিয়েন্ট */
  border-radius: 20px; /* গোলাকার কোণা */
  padding: 20px; /* ভেতরের ফাঁকা */
  margin: 20px auto; /* সেন্টারে পজিশন */
  max-width: 400px; /* সর্বোচ্চ প্রস্থ */
  box-shadow: 
    10px 10px 20px rgba(0, 0, 0, 0.4), 
    -10px -10px 20px rgba(255, 255, 255, 0.1); /* নেয়ুমরফিক শ্যাডো */
  transform: perspective(1000px) rotateX(10deg); /* ৩ডি ইফেক্ট */
  animation: float 3s ease-in-out infinite; /* ফ্লোটিং অ্যানিমেশন */
}

@keyframes float {
  0%, 100% {
    transform: perspective(1000px) rotateX(10deg) translateY(0); /* মূল অবস্থান */
  }
  50% {
    transform: perspective(1000px) rotateX(10deg) translateY(-10px); /* উপরে ওঠা */
  }
}

#clock {
  font-size: 3em; /* বড় ফন্ট সাইজ */
  font-weight: bold; /* বোল্ড টেক্সট */
  color: #f1c40f; /* উজ্জ্বল হলুদ রঙ */
  text-shadow: 
    0px 4px 8px rgba(0, 0, 0, 0.4), 
    0px 0px 10px #f1c40f; /* গ্লো এবং শ্যাডো */
  letter-spacing: 2px; /* অক্ষরের মধ্যে ফাঁকা */
  animation: glow 1.5s ease-in-out infinite; /* গ্লো অ্যানিমেশন */
}

@keyframes glow {
  0%, 100% {
    text-shadow: 
      0px 4px 8px rgba(0, 0, 0, 0.4), 
      0px 0px 10px #f1c40f; /* প্রাথমিক গ্লো */
  }
  50% {
    text-shadow: 
      0px 4px 8px rgba(0, 0, 0, 0.4), 
      0px 0px 20px #f39c12; /* পরিবর্তনশীল গ্লো */
  }
}


/* Modal Styles */
.modal {
   display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90%; /* প্রস্থ আরও বড় করা */
  max-width: 700px;
  background: linear-gradient(145deg, #f0f0f0, #e0e0e0);
  box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.3), -5px -5px 15px rgba(255, 255, 255, 0.1);
  border-radius: 20px;
  overflow: hidden;
  z-index: 1000;
}

.modal-content {
  padding: 40px; /* প্যাডিং আরও বড় করা */
  font-family: 'Arial', sans-serif;
  color: #333;
  font-size: 2rem; /* ফন্ট সাইজ আরও বড় করা */
  text-align: center;
}

/* Picker Styles */
.picker {
  margin: 20px auto;
  text-align: center;
  position: relative;
  display: inline-block;
  width: 90%; /* পুরো স্ক্রিনে মানানসই */
}

.picker select {
  padding: 15px 25px; /* ব্যালান্সড প্যাডিং */
  font-size: 1.5rem; /* মাঝারি ফন্ট সাইজ */
  border: 2px solid #444; /* ডার্ক বর্ডার */
  border-radius: 12px; /* মডারেট বর্ডার রেডিয়াস */
  background: linear-gradient(145deg, #6c757d, #adb5bd); /* নরম গ্রেডিয়েন্ট ব্যাকগ্রাউন্ড */
  color: #ffffff;
  width: 100%;
  max-width: 400px; /* সর্বোচ্চ প্রস্থ */
  cursor: pointer;
  font-weight: 500;
  appearance: none;
 
   overflow-y: auto; /* স্ক্রল যোগ করা */
  box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2), -4px -4px 10px rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease; /* স্মুথ ইফেক্ট */
}

.picker select:hover {
  box-shadow: 8px 8px 20px rgba(0, 0, 0, 0.3), -8px -8px 20px rgba(255, 255, 255, 0.8);
  transform: scale(1.05); /* হোভার অবস্থায় হালকা বড় */
}

.picker select:focus {
  border-color: rgba(0, 123, 255, 0.8);
  box-shadow: 0 0 15px rgba(0, 123, 255, 0.9);
}

/* Default Option Styles */
.picker select option {
  font-size: 1.5rem;
  font-weight: bold;
  color: #333;
  background: linear-gradient(145deg, #e9ecef, #ced4da); /* হালকা গ্রেডিয়েন্ট */
  padding: 10px;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
}

.picker select option:hover {
  background: #d4edda; /* হোভার অবস্থায় লাইট গ্রিন */
  color: #000;
}

.picker select option:checked {
  background: #28a745; /* সিলেক্ট অবস্থায় ডার্ক গ্রিন */
  color: #fff;
  font-weight: bold;
  border-radius: 8px;
}

/* Media Query for 375x553 Screen */
@media (max-width: 375px) {
  .picker {
    margin: 15px auto;
  }

 

  .picker select:hover {
    transform: scale(1.03); /* ছোট স্ক্রিনে হালকা বড় */
  }
}





/* Modal Footer Styles */
.modal-footer {
  display: flex;
  justify-content: space-evenly;
  padding: 25px; /* প্যাডিং আরও বড় করা */
  background: linear-gradient(145deg, #e8e8e8, #d0d0d0);
  border-top: 1px solid #ccc;
}

.modal-footer button {
  padding: 20px 30px; /* প্যাডিং আরও বড় করা */
  font-size: 1.8rem; /* ফন্ট সাইজ আরও বড় করা */
  border: none;
  border-radius: 35px;
  cursor: pointer;
  font-weight: bold;
  color: #fff;
  transition: all 0.3s ease-in-out;
  box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.3), -4px -4px 10px rgba(255, 255, 255, 0.1);
}

.modal-footer button:hover {
  transform: scale(1.1);
  box-shadow: 7px 7px 15px rgba(0, 0, 0, 0.3), -7px -7px 15px rgba(255, 255, 255, 0.2);
}

.modal-footer button:active {
  transform: scale(0.95);
  box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.3), -3px -3px 8px rgba(255, 255, 255, 0.1);
}

.modal-footer button.cancel {
  background: linear-gradient(145deg, #dc3545, #e83e4d);
}

.modal-footer button:not(.cancel) {
  background: linear-gradient(145deg, #007bff, #0056b3);
}


.countdown {
  margin-top: 15px; /* সামান্য বাড়তি স্পেস */
  font-size: 2.5rem; /* ফন্ট সাইজ আরও বড় করা */
  font-weight: bold; /* বোল্ড টেক্সট */
  color: #ffffff; /* হালকা রঙের টেক্সট */
  background: linear-gradient(145deg, #ff5722, #ff9800); /* গ্রেডিয়েন্ট ব্যাকগ্রাউন্ড */
  border: 2px solid #ffeb3b; /* আকর্ষণীয় বর্ডার */
  border-radius: 10px; /* গোলাকার বর্ডার */
  padding: 10px 20px; /* প্যাডিং উন্নত করা */
  text-align: center; /* টেক্সট কেন্দ্রীভূত */
  box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.3), -5px -5px 15px rgba(255, 255, 255, 0.2); /* নীউমরফিক শ্যাডো */
  display: inline-block; /* ইনলাইন ব্লক রাখার জন্য */
  animation: pulse 2s infinite; /* ধীরে ধীরে পালসিং ইফেক্ট */
  transition: all 0.3s ease-in-out; /* স্মুথ ট্রানজিশন */
}

/* Hover Effect */
.countdown:hover {
  transform: scale(1.1); /* হোভার অবস্থায় একটু বড় হবে */
  box-shadow: 10px 10px 25px rgba(0, 0, 0, 0.5), -10px -10px 25px rgba(255, 255, 255, 0.3);
}

/* Animation */
@keyframes pulse {
  0% {
    transform: scale(1);
    box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.3), -5px -5px 15px rgba(255, 255, 255, 0.2);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 8px 8px 20px rgba(0, 0, 0, 0.4), -8px -8px 20px rgba(255, 255, 255, 0.25);
  }
  100% {
    transform: scale(1);
    box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.3), -5px -5px 15px rgba(255, 255, 255, 0.2);
  }
}

/* কাস্টম ড্রপডাউন কন্টেইনার */
.custom-dropdown {
  position: relative;
  width: 320px;
  margin: 20px auto;
  font-family: 'Arial', sans-serif;
}

/* নির্বাচিত অপশন */
.dropdown-selected {
  padding: 15px 20px;
  font-size: 1.2rem;
  border-radius: 50px;
  background: linear-gradient(145deg, #4a148c, #7b1fa2); /* সামঞ্জস্যপূর্ণ রঙ */
  color: #ffffff;
  font-weight: bold;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: all 0.4s ease-in-out;
  box-shadow: 
    0px 6px 10px rgba(0, 0, 0, 0.2),
    0px 2px 4px rgba(255, 255, 255, 0.2) inset;
}

/* কাস্টম তীর আইকন */
.dropdown-selected .arrow {
  display: inline-block;
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 8px solid #ffffff;
  transition: transform 0.3s ease-in-out;
}

/* তীর ঘুরানোর অ্যানিমেশন */
.dropdown-selected .arrow.rotate {
  transform: rotate(180deg);
}

/* অপশন লিস্ট */
.dropdown-options {
  list-style: none;
  margin: 10px 0 0;
  padding: 0;
  background: #fafafa; /* হালকা ব্যাকগ্রাউন্ড */
  border-radius: 15px;
  box-shadow: 0px 8px 15px rgba(0, 0, 0, 0.2);
  display: none;
  position: absolute;
  width: 100%;
  z-index: 10;
  animation: dropdownFadeIn 0.4s ease;
}

.dropdown-options.show {
  display: block;
}

/* অপশন লিস্টের এলিমেন্ট */
.dropdown-options li {
  padding: 15px 20px;
  font-size: 1.1rem;
  color: #4a148c; /* টেক্সট কালার সামঞ্জস্যপূর্ণ */
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 10px;
  transition: all 0.3s ease;
}

/* অপশন আইকন */
.dropdown-options li .icon {
  font-size: 1.2rem;
  color: #7b1fa2; /* আইকনের রঙ সামঞ্জস্যপূর্ণ */
}

/* হোভার এবং অ্যাক্টিভ ইফেক্ট */
.dropdown-options li:hover {
  background: linear-gradient(145deg, #7b1fa2, #4a148c); /* সামঞ্জস্যপূর্ণ গ্রেডিয়েন্ট */
  color: #ffffff;
  transform: scale(1.03);
}

.dropdown-options li:hover .icon {
  color: #ffffff;
}

/* অ্যানিমেশন */
@keyframes dropdownFadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* রেসপনসিভ ডিজাইন */
@media (max-width: 768px) {
  .custom-dropdown {
    width: 100%;
  }

  .dropdown-selected {
    font-size: 1rem;
    padding: 12px 15px;
  }

  .dropdown-options li {
    font-size: 1rem;
    padding: 12px 15px;
  }
}

@media (min-width: 769px) {
  .custom-dropdown {
    width: 400px;
  }

  .dropdown-selected {
    font-size: 1.4rem;
    padding: 18px 22px;
  }

  .dropdown-options li {
    font-size: 1.2rem;
    padding: 18px 22px;
  }
}

.alarm-item {
  background: linear-gradient(135deg, #ff9a9e, #fad0c4);
  color: #333;
  font-weight: bold;
  font-size: 16px;
  padding: 10px 15px;
  margin: 5px 0;
  border-radius: 8px;
  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.15);
  display: flex;
  align-items: center;
  justify-content: space-between;
  transition: all 0.3s ease-in-out;
}

      .mamun {
  margin-top: 1px;
  border-radius: 15px;
  padding: 10px;
  text-align: center;
  width: 95%;
}

    </style>
    
  </head>
  
  <body>
<div class='mamun'>
  <h1><i class="icon">🔌</i> Control Smart Plug 2</h1>
  
  <div id="clock-container">
    <div id="clock"></div>
  </div>

  <!-- কাস্টম ড্রপডাউন -->
  <div class="custom-dropdown">
    <div class="dropdown-selected" onclick="toggleDropdown()">
      <span>Select an option</span>
      <i class="arrow"></i>
    </div>
    <ul class="dropdown-options">
      <li onclick="selectOption('Go to Smart Plug', 'SmartPlug.html')">
        <i class="icon">🔋</i> Go to Smart Plug
      </li>
      <li onclick="selectOption('Go to Smart Plug 2', 'index.html')">
        <i class="icon">🔌</i> Go to Smart Plug 2
      </li>
      <li onclick="selectOption('Go to Fan Light', 'FanLight.html')">
        <i class="icon">💡</i> Go to Fan Light
      </li>
    </ul>
  </div>
</div>

 <div class='mamun'></div>
    <div class='container'>
    <div class='relay'>
  <div class='relay-header'>Relay 1</div>
  <div class='flex-box'>
    <button id='relay1' class='relay-btn off' onclick='toggleRelay(1)'><i class='fas fa-lightbulb'>OFF</i></button>
    <button id='alarmBtn1' class='alarm-off' onclick='openAlarmModal(1)'><i class='fas fa-alarm-clock'>Set</i></button>
    <button id='timerBtn1' class='timer-off' onclick='openTimerModal(1)'><i class='fas fa-hourglass-half'>Set</i></button>
  </div>
  <div id="alarmCountdown1" class="countdown"></div>
  <div id="timerCountdown1" class="countdown"></div>
</div>

<div class='relay'>
  <div class='relay-header'>Relay 2</div>
  <div class='flex-box'>
    <button id='relay2' class='relay-btn off' onclick='toggleRelay(2)'><i class='fas fa-lightbulb'>OFF</i></button>
    <button id='alarmBtn2' class='alarm-off' onclick='openAlarmModal(2)'><i class='fas fa-alarm-clock'>Set</i></button>
    <button id='timerBtn2' class='timer-off' onclick='openTimerModal(2)'><i class='fas fa-hourglass-half'>Set</i></button>
  </div>
  <div id="alarmCountdown2" class="countdown"></div>
  <div id="timerCountdown2" class="countdown"></div>
</div>

<div class='relay'>
  <div class='relay-header'>Relay 3</div>
  <div class='flex-box'>
    <button id='relay3' class='relay-btn off' onclick='toggleRelay(3)'><i class='fas fa-lightbulb'>OFF</i></button>
    <button id='alarmBtn3' class='alarm-off' onclick='openAlarmModal(3)'><i class='fas fa-alarm-clock'>Set</i></button>
    <button id='timerBtn3' class='timer-off' onclick='openTimerModal(3)'><i class='fas fa-hourglass-half'>Set</i></button>
  </div>
  <div id="alarmCountdown3" class="countdown"></div>
  <div id="timerCountdown3" class="countdown"></div>
</div>

<div class='relay'>
  <div class='relay-header'>Relay 4</div>
  <div class='flex-box'>
    <button id='relay4' class='relay-btn off' onclick='toggleRelay(4)'><i class='fas fa-lightbulb'>OFF</i></button>
    <button id='alarmBtn4' class='alarm-off' onclick='openAlarmModal(4)'><i class='fas fa-alarm-clock'>Set</i></button>
    <button id='timerBtn4' class='timer-off' onclick='openTimerModal(4)'><i class='fas fa-hourglass-half'>Set</i></button>
  </div>
  <div id="alarmCountdown4" class="countdown"></div>
  <div id="timerCountdown4" class="countdown"></div>
</div>


    </div>
    
    <div id="alarmModal" class="modal">
  <div class="modal-content">
    <h2>Set Alarm</h2>
    <div class="picker">
      <!-- Alarm Number Selector -->
      <label for="alarmNumber">Select Alarm:</label>
      <select id="alarmNumber">
        <option value="1">Alarm 1</option>
        <option value="2">Alarm 2</option>
        <option value="3">Alarm 3</option>
        <option value="4">Alarm 4</option>
        <option value="5">Alarm 5</option>
      </select>
      <br />
      <!-- Time Picker -->
      <select id="alarmHour"></select>
      <select id="alarmMinute"></select>
      <select id="alarmSecond"></select>
      <select id="alarmPeriod">
        <option value="AM">AM</option>
        <option value="PM">PM</option>
      </select>
      <!-- Action Picker -->
      <select id="alarmaction">
        <option value="on">ON</option>
        <option value="off">OFF</option>
        <option value="reset">Reset</option>
      </select>
    </div>
    <div class="modal-footer">
      <button onclick="setAlarm()">Set</button>
      <button class="cancel" onclick="closeAlarmModal()">Cancel</button>
    </div>
  </div>
</div>


<div id='timerModal' class='modal'>
  <div class='modal-content'>
    <h2>Set Timer</h2>
    <div class='picker'>
      <select id='timerDuration'>
     <option value='5'>5 Seconds</option>
            <option value='10'>10 Seconds</option>
            <option value='15'>15 Seconds</option>
            <option value='30'>30 Seconds</option>
            <option value='60'>1 Minute</option>
            <option value='120'>2 Minute</option>
            <option value='180'>3 Minute</option>
            <option value='240'>4 Minute</option>
            <option value='300' selected>5 Minutes</option>
            <option value='600'>10 Minutes</option>
            <option value='900'>15 Minutes</option>
            <option value='1020'>17 Minutes</option>
            <option value='1200'>20 Minutes</option>
            <option value='1800'>30 Minutes</option>
            <option value='2700'>45 minutes</option>
    <option value='3600'>1 hour</option>
    <option value='4500'>1 hour 15 minutes</option>
    <option value='5400'>1 hour 30 minutes</option>
    <option value='6300'>1 hour 45 minutes</option>
    <option value='7200'>2 hours</option>
    <option value='9000'>2 hours 30 minutes</option>
    <option value='10800'>3 hours</option>
    <option value='12600'>3 hours 30 minutes</option>
    <option value='14400'>4 hours</option>
    <option value='18000'>5 hours</option>
    <option value='21600'>6 hours</option>
      </select>

      <select id="timerAction">
        <option value="on">ON</option>
        <option value="off">OFF</option>
        <option value="reset">Reset</option>
      </select>

      <select id="timerSlot">
        <option value="1">Timer 1</option>
        <option value="2">Timer 2</option>
        <option value="3">Timer 3</option>
        <option value="4">Timer 4</option>
        <option value="5">Timer 5</option>
      </select>
    </div>

    <div class='modal-footer'>
      <button onclick='setTimer()'>Set</button>
      <button class='cancel' onclick='closeModal()'>Cancel</button>
    </div>
  </div>
</div>

    
    <script>
      



// Dropdown options dynamically populate করার জন্য ফাংশন 
function populateDropdown(selectId, start, end, pad = false) {
    const select = document.getElementById(selectId);
    select.innerHTML = ""; // আগের অপশন রিসেট করা
    for (let i = start; i <= end; i++) {
        const option = document.createElement('option');
        option.value = pad ? String(i).padStart(2, '0') : i;
        option.textContent = pad ? String(i).padStart(2, '0') : i;
        select.appendChild(option);
    }
}

// ঘন্টা, মিনিট, সেকেন্ড এর ড্রপডাউন ফিল করতে কল করুন
populateDropdown('alarmHour', 1, 12); // Hour: 1 to 12
populateDropdown('alarmMinute', 0, 59, true); // Minute: 00 to 59
populateDropdown('alarmSecond', 0, 59, true); // Second: 00 to 59

// বর্তমান সময় সেট করার ফাংশন
function setCurrentTime() {
    const now = new Date();
    let hours = now.getHours();
    const minutes = now.getMinutes();
    const seconds = now.getSeconds();
    let ampm = hours >= 12 ? 'PM' : 'AM'; // AM/PM ঠিকমতো নির্ধারণ করা

    // 12-hour format এ কনভার্ট করা
    hours = hours % 12;
    hours = hours ? hours : 12; // 0 হলে 12 বানিয়ে দাও

    // ড্রপডাউনের মান সেট করা
    document.getElementById('alarmHour').value = hours;
    document.getElementById('alarmMinute').value = String(minutes).padStart(2, '0');
    document.getElementById('alarmSecond').value = String(seconds).padStart(2, '0');
    
    // ✅ এই লাইন যোগ করো (AM/PM ঠিকমতো সেট করতে)
    document.getElementById('alarmPeriod').value = ampm;
}




 /* ============================================== start togglerelay function ============================================== */


   const authToken = "B3zGySOexKemlM6Sj_FV4w1Cw3PYPGi2"; // Replace with your Blynk auth token
    const apiUrl = "https://blynk.cloud/external/api";
    const relayStates = [false, false, false, false];
    const alarmTimers = [null, null, null, null];



  function toggleRelay(index) {
      const pin = `V${index}`;
      relayStates[index - 1] = !relayStates[index - 1];
      const value = relayStates[index - 1] ? 1 : 0;

      fetch(`${apiUrl}/update?token=${authToken}&${pin}=${value}`)
        .then(response => {
          if (response.ok) {
            updateButtonState(index);
          } else {
            alert("Failed to update relay state!");
          }
        })
        .catch(error => console.error("Error:", error));
    }

    function updateButtonState(index) {
      const button = document.getElementById(`relay${index}`);
      if (relayStates[index - 1]) {
        button.classList.remove("off");
        button.classList.add("on");
        button.innerText = "ON";
      } else {
        button.classList.remove("on");
        button.classList.add("off");
        button.innerText = "OFF";
      }
    }
  function fetchRelayStates() {
      for (let i = 1; i <= 4; i++) {
        const pin = `V${i}`;
        fetch(`${apiUrl}/get?token=${authToken}&${pin}`)
          .then(response => response.text())
          .then(value => {
            relayStates[i - 1] = value === '1';
            updateButtonState(i);
          })
          .catch(error => console.error(`Error fetching state for Relay ${i}:`, error));
      }
    }
    setInterval(fetchRelayStates, 300); // Check relay states every 5 seconds



 /* ============================================== end toggleRelay function ============================================== */
 /* ============================================== start Alarm function ============================================== */

const BLYNK_TOKEN = "B3zGySOexKemlM6Sj_FV4w1Cw3PYPGi2";

// Alarm Storage for each Relay (5 alarms per relay)
const relayAlarms = {
  relay1: [],
  relay2: [],
  relay3: [],
  relay4: []
};

// Open Alarm Modal
function openAlarmModal(relayId) {
  const alarmModal = document.getElementById("alarmModal");
  alarmModal.style.display = "block";
  alarmModal.setAttribute("data-relay-id", relayId); // Set Relay ID
  
  console.log(`Opened Alarm Modal for Relay ID: ${relayId}`);

  // অ্যালার্ম পিকার ওপেন করার সময় বর্তমান সময় সেট করবে
  setCurrentTime();
}


// Close Alarm Modal
function closeAlarmModal() {
  const alarmModal = document.getElementById("alarmModal");
  alarmModal.style.display = "none";
  alarmModal.removeAttribute("data-relay-id");
}

// Updated Alarm Setting Function
function setAlarm() {
  const alarmModal = document.getElementById("alarmModal");
  const relayId = alarmModal.getAttribute("data-relay-id");
  const alarmNumber = parseInt(document.getElementById("alarmNumber").value); // Alarm Number
  const hour = parseInt(document.getElementById("alarmHour").value);
  const minute = parseInt(document.getElementById("alarmMinute").value);
  const second = parseInt(document.getElementById("alarmSecond").value);
  const period = document.getElementById("alarmPeriod").value; // AM/PM
  const action = document.getElementById("alarmaction").value;

  const countdownDisplay = document.getElementById(`alarmCountdown${relayId}`);

  if (!relayId || isNaN(hour) || isNaN(minute) || isNaN(second) || !action || isNaN(alarmNumber)) {
    alert("Please select a valid alarm number, time, and action.");
    return;
  }

  // Convert to 24-hour time format
  const alarmTime24 = convertTo24HourFormat(hour, minute, second, period);

  // Save Alarm in relayAlarms
  const alarms = relayAlarms[`relay${relayId}`];
  if (!alarms[alarmNumber - 1]) {
    alarms[alarmNumber - 1] = { time: alarmTime24, action };
    console.log(
      `Alarm ${alarmNumber} set for Relay ${relayId}: ${alarmTime24} with action ${action}`
    );
  } else {
    // Overwrite existing alarm
    alarms[alarmNumber - 1] = { time: alarmTime24, action };
    console.log(
      `Alarm ${alarmNumber} updated for Relay ${relayId}: ${alarmTime24} with action ${action}`
    );
  }

  startRelayAlarmCountdown(relayId, alarms, countdownDisplay);

  closeAlarmModal();
}

// Convert 24-hour format to AM/PM
function convertTo12HourFormat(time24) {
  const [hour, minute, second] = time24.split(":").map(Number);
  const period = hour >= 12 ? "PM" : "AM";
  const hour12 = hour % 12 || 12; // Convert 0 to 12 for midnight
  return `${hour12.toString().padStart(2, "0")}:${minute
    .toString()
    .padStart(2, "0")}:${second.toString().padStart(2, "0")} ${period}`;
}

// Updated Alarm Countdown Monitor
function startRelayAlarmCountdown(relayId, alarms) {
  clearInterval(relayAlarms[`${relayId}Interval`]);

  // মূল div খুঁজে বের করা
  const countdownDisplay = document.getElementById(`alarmCountdown${relayId}`);
  countdownDisplay.innerHTML = ""; // পুরানো তথ্য মুছে ফেলা

  // প্রত্যেকটি রিলের জন্য পাঁচটি করে আলাদা div তৈরি করা
  alarms.forEach((alarm, index) => {
    let alarmDiv = document.getElementById(`alarmCountdown${relayId}_${index + 1}`);
    
    if (!alarmDiv) {
      alarmDiv = document.createElement("div");
      alarmDiv.id = `alarmCountdown${relayId}_${index + 1}`;
      alarmDiv.classList.add("countdown"); // CSS এর জন্য ক্লাস যোগ করা
      countdownDisplay.appendChild(alarmDiv);
    }
  });

  // প্রতিটি সেকেন্ডে আপডেট করার জন্য Interval সেট করা
  relayAlarms[`${relayId}Interval`] = setInterval(() => {
    const now = new Date();
    const currentTime = `${now.getHours().toString().padStart(2, "0")}:${now
      .getMinutes()
      .toString()
      .padStart(2, "0")}:${now.getSeconds().toString().padStart(2, "0")}`;

    alarms.forEach((alarm, index) => {
      if (alarm) {
        const timeLeft = calculateTimeLeft(alarm.time, now);
        const alarmDiv = document.getElementById(`alarmCountdown${relayId}_${index + 1}`);

        if (timeLeft) {
          const alarmTime12 = convertTo12HourFormat(alarm.time);
          alarmDiv.innerText = `Alarm ${index + 1}: ${timeLeft} | Action: ${alarm.action.toUpperCase()} | Scheduled Time: ${alarmTime12}`;
        } else if (currentTime === alarm.time) {
          console.log(`Relay ${relayId} Alarm ${index + 1} triggered! Action: ${alarm.action}`);
          sendBlynkUpdate(relayId, alarm.action);
          alarms[index] = null;
          alarmDiv.innerText = `Alarm ${index + 1}: TRIGGERED!`;
        }
      }
    });

    // সব এলার্ম বন্ধ হলে Interval বন্ধ করা
    if (alarms.every((alarm) => alarm === null)) {
      clearInterval(relayAlarms[`${relayId}Interval`]);
    }
  }, 1000);
}


// Calculate Time Left
function calculateTimeLeft(alarmTime, now) {
  const [hours, minutes, seconds] = alarmTime.split(":").map(Number);
  const alarmDate = new Date(now);
  alarmDate.setHours(hours, minutes, seconds, 0);

  if (alarmDate <= now) return null; // Time has passed

  const diff = alarmDate - now;
  const h = Math.floor(diff / (1000 * 60 * 60));
  const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
  const s = Math.floor((diff % (1000 * 60)) / 1000);

  return `${h.toString().padStart(2, "0")}:${m.toString().padStart(2, "0")}:${s.toString().padStart(2, "0")}`;
}

// Convert to 24-Hour Time Format
function convertTo24HourFormat(hour, minute, second, period) {
  if (period === "PM" && hour < 12) hour += 12;
  if (period === "AM" && hour === 12) hour = 0;
  return `${hour.toString().padStart(2, "0")}:${minute.toString().padStart(2, "0")}:${second.toString().padStart(2, "0")}`;
}

// Send Update to Blynk
async function sendBlynkUpdate(relayId, action) {
  const virtualPin = `V${relayId}`;
  const value = action === "on" ? 1 : 0;
  const url = `https://blynk.cloud/external/api/update?token=${BLYNK_TOKEN}&${virtualPin}=${value}`;

  try {
    const response = await fetch(url);
    if (response.ok) {
      console.log(`Blynk Virtual Pin ${virtualPin} updated to ${value}.`);
    } else {
      console.error(`Failed to update Blynk Virtual Pin ${virtualPin}:`, response.statusText);
    }
  } catch (error) {
    console.error("Error updating Blynk Virtual Pin:", error);
  }
}


 /* ============================================== end Alarm function ============================================== */
 /* ============================================== start timer function ============================================== */

/**
 * উন্নত ও কার্যকর কাউন্টডাউন টাইমার ব্যবস্থাপনা স্ক্রিপ্ট
 * প্রতিটি রিলের জন্য ৫টি কাউন্টডাউন ডিসপ্লে তৈরি করা
 */
document.addEventListener("DOMContentLoaded", () => {
    for (let relay = 1; relay <= 4; relay++) {
        const container = document.getElementById(`timerCountdown${relay}`); // ✅ এখানে backtick (`) ব্যবহার করা হয়েছে
        for (let slot = 1; slot <= 5; slot++) {
            const countdownDiv = document.createElement("div");
            countdownDiv.className = "countdown";
            countdownDiv.id = `timerCountdown${relay}_${slot}`; // ✅ এখানেও backtick (`) ব্যবহার করা হয়েছে
            countdownDiv.style.display = "none"; // ✅ ডিফল্টভাবে লুকানো
            container.appendChild(countdownDiv);
        }
    }
});


// টাইমার স্টোরেজ (প্রতিটি রিলের জন্য পৃথক টাইমার)
const timerIntervals = {};

/**
 * টাইমার সেটিং মডাল ওপেন করা
 * @param {number} relayId - নির্দিষ্ট রিল আইডি
 */
function openTimerModal(relayId) {
    const modal = document.getElementById("timerModal");
    modal.style.display = "block";
    modal.setAttribute("data-relay-id", relayId);
    console.log(`Timer Modal Opened for Relay: V${relayId}`);
}

/**
 * টাইমার মডাল বন্ধ করা
 */
function closeModal() {
    const modal = document.getElementById("timerModal");
    modal.style.display = "none";
    modal.removeAttribute("data-relay-id");
}

/**
 * নতুন টাইমার সেট করা
 */
function setTimer() {
    const modal = document.getElementById("timerModal");
    const relayId = modal.getAttribute("data-relay-id");
    const duration = parseInt(document.getElementById("timerDuration").value);
    const action = document.getElementById("timerAction").value;
    const timerSlot = document.getElementById("timerSlot").value;

    if (!relayId || isNaN(duration) || !action || !timerSlot) {
        alert("অনুগ্রহ করে রিলে, সময়কাল, অ্যাকশন ও টাইমার স্লট নির্বাচন করুন।");
        return;
    }

    console.log(`Setting Timer ${timerSlot} for Relay: V${relayId}, Duration: ${duration}s, Action: ${action}`);

    // রিলের জন্য টাইমার ইনিশিয়ালাইজ করা
    if (!timerIntervals[relayId]) {
        timerIntervals[relayId] = {};
    }

    const countdownDisplay = document.getElementById(`timerCountdown${relayId}_${timerSlot}`);

    if (action === "reset") {
        resetTimer(relayId, timerSlot, countdownDisplay);
        return;
    }

    startCountdown(relayId, timerSlot, duration, action, countdownDisplay);
    closeModal();
}

/**
 * নির্দিষ্ট টাইমার রিসেট করা
 * @param {number} relayId - রিল আইডি
 * @param {number} timerSlot - টাইমার স্লট
 * @param {HTMLElement} displayElement - ডিসপ্লে উপাদান
 */
function resetTimer(relayId, timerSlot, displayElement) {
    if (timerIntervals[relayId] && timerIntervals[relayId][timerSlot]) {
        clearInterval(timerIntervals[relayId][timerSlot]);
        delete timerIntervals[relayId][timerSlot];
    }
    displayElement.innerText = `Timer ${timerSlot} Reset`;
    console.log(`Timer ${timerSlot} for Relay V${relayId} has been reset.`);
}

/**
 * কাউন্টডাউন টাইমার শুরু করা
 * @param {number} relayId - রিল আইডি
 * @param {number} timerSlot - টাইমার স্লট
 * @param {number} duration - সময়কাল (সেকেন্ডে)
 * @param {string} action - অ্যাকশন (on/off)
 * @param {HTMLElement} displayElement - ডিসপ্লে উপাদান
 */
function startCountdown(relayId, timerSlot, duration, action, displayElement) {
    if (!timerIntervals[relayId]) {
        timerIntervals[relayId] = {}; // ✅ relayId ইনিশিয়ালাইজ করা হচ্ছে
    }

    clearInterval(timerIntervals[relayId][timerSlot]);

    let remainingTime = duration;

    const formatTime = (seconds) => {
        const hours = Math.floor(seconds / 3600);
        const minutes = Math.floor((seconds % 3600) / 60);
        const secs = seconds % 60;
        return `${hours}h ${minutes}m ${secs}s`; // ✅ Backtick (`) ব্যবহার করা হয়েছে
    };

    displayElement.innerText = `Timer ${timerSlot}: ${formatTime(remainingTime)} left`; // ✅ Backtick (`) ব্যবহার করা হয়েছে
    displayElement.style.display = "block"; // ✅ টেক্সট দেখানোর জন্য display="block" করা হলো

    timerIntervals[relayId][timerSlot] = setInterval(() => {
        if (remainingTime > 0) {
            remainingTime--;
            displayElement.innerText = `Timer ${timerSlot}: ${formatTime(remainingTime)} left | Duration: ${formatTime(duration)} | Action: ${action}`;
        } else {
            clearInterval(timerIntervals[relayId][timerSlot]);
            displayElement.innerText = `Timer ${timerSlot} Finished!`;
            sendBlynkUpdate(relayId, action);
            
            // ✅ টাইমার শেষ হলে ডিসপ্লে লুকিয়ে ফেলতে চাইলে:
            setTimeout(() => {
                displayElement.style.display = "none";
            }, 3000); // 3 সেকেন্ড পর লুকাবে
        }
    }, 1000);
}


/**
 * Blynk API-তে আপডেট পাঠানো
 * @param {number} relayId - রিল আইডি
 * @param {string} action - অ্যাকশন (on/off)
 */
async function sendBlynkUpdate(relayId, action) {
    const virtualPin = `V${relayId}`;
    const value = action === "on" ? 1 : 0;
    const url = `https://blynk.cloud/external/api/update?token=${BLYNK_TOKEN}&${virtualPin}=${value}`;

    try {
        const response = await fetch(url);
        if (response.ok) {
            console.log(`Blynk Virtual Pin ${virtualPin} updated to ${value}.`);
        } else {
            console.error(`Failed to update Blynk Virtual Pin ${virtualPin}:`, response.statusText);
        }
    } catch (error) {
        console.error("Error updating Blynk Virtual Pin:", error);
    }
}



 /* ============================================== end timer function ============================================== */ 
function updateClock() { 
  var now = new Date(); 
  var h = now.getHours(); 
  var m = now.getMinutes(); 
  var s = now.getSeconds(); 
  var ampm = h >= 12 ? 'PM' : 'AM'; 
  h = h % 12; 
  h = h ? h : 12; 
  m = m < 10 ? '0' + m : m; 
  s = s < 10 ? '0' + s : s; 
  document.getElementById('clock').innerHTML = h + ':' + m + ':' + s + ' ' + ampm; 
}
setInterval(updateClock, 1000); 
updateClock();

 // ড্রপডাউন টগল করার জন্য
  function toggleDropdown() {
    document.querySelector('.dropdown-options').classList.toggle('show');
    document.querySelector('.dropdown-selected .arrow').classList.toggle('rotate');
  }

  // অপশন সিলেক্ট করার জন্য
  function selectOption(label, url) {
    document.querySelector('.dropdown-selected span').textContent = label;
    document.querySelector('.dropdown-options').classList.remove('show');
    document.querySelector('.dropdown-selected .arrow').classList.remove('rotate');
    window.location.href = url; // পেজ রিডিরেক্ট
  }

  // ক্লিকের বাইরে ক্লিক করলে ড্রপডাউন বন্ধ
  window.onclick = function (event) {
    if (!event.target.closest('.custom-dropdown')) {
      const dropdown = document.querySelector('.dropdown-options');
      const arrow = document.querySelector('.dropdown-selected .arrow');
      if (dropdown.classList.contains('show')) {
        dropdown.classList.remove('show');
        arrow.classList.remove('rotate');
      }
    }
  };
    </script>
  </body>
</html>